# Today

- Learn React fundamentals

## Go

### [Type assertions](https://go.dev/ref/spec#Type_assertions)

``` go
var i interface{}
i = int(39)

a, ok := i.(int)
// a = 39, ok = true

b, ok := i.(string)
// b = "", ok = false
```

## React

### Submit form

Frontend:

``` javascript
async function handleSubmit(e) {
    e.preventDefault();
    if (!name.trim()) {
        return;
    }

    let body = {
        Content: name,
        IsDone: false,
    }

    const response = await fetch('api/todo/create', {
            method: 'POST',
            body: JSON.stringify(body),
            headers: {
                'Content-Type': 'application/json',
            },
        }
    );

    const data = await response.json();
    if (!response.ok) {
        let errorText = 'Failed to create todo.';
        if (!data.hasOwnProperty('error')) {
            throw new Error(errorText);
        }
    }
}
```

Backend:

``` go
var t todo.Todo
err := c.BindJSON(&t)
if err != nil {
    log.Println(err)
    return
}

t.ID = bson.NewObjectId()
err = todo.Create(t)
if err != nil {
    log.Println(err)
    return
}
```
